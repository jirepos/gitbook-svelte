# store - ìƒíƒœê´€ë¦¬

ê·œëª¨ê°€ ìžˆëŠ” í”„ë¡œì íŠ¸ì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ storeë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì‚´íŽ´ë³¸ë‹¤. 



 Storeëž€ ê°ìž ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ê°™ì€ ë°ì´í„°ë¥¼ ì ‘ê·¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê·œëª¨ê°€ ì»¤ì§€ê±°ë‚˜ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ìƒí˜¸ ìž‘ìš©ì´ í•„ìš”í•  ê²½ìš° ë§¤ìš° ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤. 



 Storeì˜ ê°’ì´ ìˆ˜ì •ë  ë•Œ ì°¸ì¡°í•˜ê³  ìžˆëŠ” ì»´í¬ë„ŒíŠ¸ì—ê²Œ ì•Œë ¤ì£¼ëŠ” êµ¬ë… ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. êµ¬ë…ì„ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ê°œë°œìžê°€ ë³€ê²½ëœ ê°’ì„ í™”ë©´ì— ì¶œë ¥í•˜ê¸° ìœ„í•´ DOMì„ ì¡°ìž‘í•˜ì§€ ì•Šì•„ë„ ìžë™ìœ¼ë¡œ ë°˜ì˜ëœë‹¤. ë˜í•œ êµ¬ë… ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ Svelte ë‚´ë¶€ ë¡œì§ì„ í†µí•´ ê°’ì´ ë³€ê²½ë˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ ë° ì•ˆì „ì„±ì´ ë†’ì€ ìž¥ì ì´ ìžˆë‹¤.



## store.js 

src í´ë” ì•„ëž˜ì— store í´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ ì•„ëž˜ store.jsë¥¼ ë§Œë“ ë‹¤. 

```
ðŸ“project_root
  ðŸ“src
    ðŸ“store
      ðŸ“„store.js
```  
ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³  ì»´í¬ë„ŒíŠ¸ì—ì„œ svelte/storeë¡œë¶€í„° writable ê°ì²´ë¥¼ ìž„í¬íŠ¸í•œë‹¤. 

```jsx
import { writable } from 'svelte/store';
```

êµ¬ë…ì„ í†µí•´ì„œ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìžˆë‹¤. 
```jsx
let count = 0; 
// êµ¬ë…ì„ í†µí•´ì„œ ë³€ê²½ëœ ê°’ì„ ë°›ì•„ì˜¨ë‹¤.
logCount.subscribe(value => {
  count = value;
});
```
update()ë¥¼ ì‚¬ìš©í•˜ì—­ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìžˆë‹¤. 
```jsx
// updateë¥¼ í†µí•´ì„œ  count ê°’ì„ ë³€ê²½í•œë‹¤.
const increaseCount = () => {
  logCount.update( value => value + 1)
}
```
```html
<input type="button" value="Increase Count" on:click={increaseCount}>
```

setë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ì„ ì´ˆê¸°í™” í•  ìˆ˜ ìžˆë‹¤. 


```jsx
// setë¥¼ í†µí•´ì„œ ê°’ì„ ì´ˆê¸°í™” í•œë‹¤ 
const initCount = () => {
  logCount.set( 0); 
}
```

### writable 
ì½ê¸°, ì“°ê¸°ê°€ ê°€ëŠ¥í•œ ìŠ¤í† ì–´ë¡œ Setê³¼ Update ë©”ì„œë“œë¥¼ ì§€ì›í•œë‹¤. Setì€ ê°’ì„ ì´ˆê¸°í™”í•˜ëŠ” ë©”ì„œë“œì´ê³ , UpdateëŠ” ê°’ì„ ìˆ˜ì •í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. Updateì˜ ê²½ìš° íŒŒë¼ë¯¸í„°ë¡œ ì½œë°± í•¨ìˆ˜ê°€ ì „ë‹¬ë˜ëŠ”ë°, ì½œë°± í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¡œ ìŠ¤í† ì–´ì˜ í˜„ìž¬ ê°’ì´ ì „ë‹¬ëœë‹¤. ì½œë°± í•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ë©´ ìŠ¤í† ì–´ì˜ ê°’ì´ ìˆ˜ì •ëœë‹¤.

```jsx
storeVar.update((í˜„ìž¬ ìŠ¤í† ì–´ ê°’) => {
      return ì—…ë°ì´íŠ¸í•  ê°’
})
```    



## ë©”ëª¨ë¦¬ ê´€ë¦¬ - unsubscribe
ë‹¤ë¥¸ íŽ˜ì´ì§€ë¡œ ì´ë™í•˜ê±°ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¢…ë£Œí•  ë•Œ ìŠ¤í† ì–´ì— í• ë‹¹ëœ ê°ì²´ê°€ ì†Œë©¸ë˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ì— ê³„ì† ì €ìž¥ë˜ì–´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤. ì´ê²ƒì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ íŒŒê´´ë  ë•Œ ìŠ¤í† ì–´ì˜ êµ¬ë…ì„ ëŠì–´ ë©”ëª¨ë¦¬ë¥¼ ì†Œê±°ì‹œì¼œì•¼ í•œë‹¤.

**êµ¬ë… ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë¦¬í„´ ê°’ìœ¼ë¡œ êµ¬ë…ì„ í•´ì§€í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë¦¬í„´**í•œë‹¤. ë¦¬í„´ëœ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ìžë™ìœ¼ë¡œ êµ¬ë…ì´ í•´ì§€ëœë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ìŠ¤í† ì–´ì˜ êµ¬ë…ì„ í•´ì§€í•˜ëŠ” ê²½ìš°ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¢…ë£Œë˜ëŠ” ì‹œì ì¸ ê²½ìš°ê°€ ë§Žìœ¼ë¯€ë¡œ Svelte ì»´í¬ë„ŒíŠ¸ ìƒëª… ì£¼ê¸°ì˜ onDestroy ë‚´ë¶€ì—ì„œ êµ¬ë…ì„ í•´ì§€í•œë‹¤. 


 ```jsx
	const unsubscribe = count.subscribe(value => {
		countValue = value;
	});

	onDestroy(unsubscribe);
```

